{% extends "base.html" %}

{% block content %}
<div class="page-header">
    {% if message %}
    <h1>{{message}}</h1>
    {% else %}
    <h1>Welcome to BandBook!</h1>
    {% endif %}
</div>

<label>Search bands by genre</label>
<div class="form-group">
    {% for genre in genres %}
    <a class="btn btn-primary btn-sm" href="{{base_path}}/genre_search/{{genre.id}}">{{genre.genrename}}</a>
    {% endfor %}
</div>

<form method="post" action="{{base_path}}/search">

    <div class="form-group">
        <input name="search" class="form-control" placeholder="Search bands by name" type="text">
    </div>

    <div class="form-group">
        <button type="submit" class="btn btn-success">Search</button>  
    </div>
</form>

<div class="form-group">
    <table class="table table-striped table-bordered">
        <thead>
            <tr>
                <th>Name</th>
                <th>Description</th>
                <th>Origin</th>
                <th>Genres</th>
            </tr>
        </thead>

        <tbody>
            {% for band in bands %}
            <tr>
                <td><a href="{{base_path}}/band/{{band.id}}">{{band.bandname}}</a></td>
                <td>{{band.description}}</td>
                <td>{{band.origin}}</td>
                <td> 
                    {% for genre in band.genres %}
                    <a class="btn btn-success btn-xs" href="{{base_path}}/genre_search/{{genre.id}}">{{genre.genrename}}</a>
                    {% endfor %}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
